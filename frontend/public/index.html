<!doctype html>
<html lang="en" class="box-border">
  <head>
    <link rel="icon" href="images/favicon.png" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pong</title>
    <link href="dist/output.css" rel="stylesheet" />

    <style>
      .dropdown {
  position: relative;
}

.dropdown-menu {
  display: none;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 4px;
  position: absolute;
  z-index: 10;
  list-style: none;
  margin: 0;
  padding: 0;
}

.dropdown:hover .dropdown-menu {
  display: block;
}

.dropdown-menu li {
  padding: 10px;
}

.dropdown-menu li a {
  text-decoration: none;
  color: #333;
}

.dropdown-menu li a:hover {
  background-color: #f0f0f0;
}

 .chat-left__list-dms-item {
  display: block;
  background-color: white;
  max-width: 100%;
  padding: 10px;
}

.chat-right__bubble {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  overflow: auto;
  padding: 1em;
  gap: 10px;
  background-color: white;
  max-width: 100%;
}

.chat-right__bubble-sent {
  display: block;
  position: relative;
  height: auto;
  background-color: lightskyblue;
  max-width: 75%;
}

.chat-right__bubble-received {
  display: block;
  margin-left: auto;
  position: relative;
  max-width: 75%;
  height: auto;
  justify-content: flex-end;
  background-color: mediumaquamarine;
}
    </style>
  </head>

  <body
    class="m-0 box-border grid min-h-screen grid-rows-[auto_1fr_auto] bg-[#90ee90]"
  >
    <header class="flex justify-center bg-[#90ee90]">
      <div class="w-full max-w-5xl border">
        <div
          id="header-navbar"
          class="flex flex-1 flex-row items-center justify-between"
        >
          <div id="header-navbar-logo" class="p-2.5">
            <a href="#" onclick="displayPage('welcome')">
              <img src="images/logo.png" alt="logo of the page" />
            </a>
          </div>
          <div id="header-navbar-user" class="flex flex-row items-center p-2.5">
            <!--to change all this span after also taking care of js
          to change in class="hidden bg-[#fff] border-[#ccc] rounded-sm absolute z-10 list-none m-0 p-0" -->
            <span class="dropdown">
              <a href="#" class="flex items-center no-underline">
                <span id="logged-user" class="mr-2.5"> Hello, you! </span>
                <div id="logged-user-avatar">
                  <img
                    src="images/profile/orange.png"
                    alt="User Avatar"
                    width="50"
                    height="50"
                  />
                </div>
              </a>
              <ul class="dropdown-menu" role="menu">
                <li>
                  <a href="#" onclick="setAccountPage('register')"
                    ><span></span>Register</a
                  >
                </li>
                <li>
                  <a href="#" onclick="setAccountPage('login')"
                    ><span></span>Login</a
                  >
                </li>
                <li>
                  <a href="#" onclick="setAccountPage('profile')"
                    ><span></span> View my profile</a
                  >
                </li>
                <li>
                  <a rel="nofollow" href="#"><span></span> <b>Logout</b></a>
                </li>
              </ul>
            </span>
          </div>
        </div>
      </div>
    </header>
    <main class="flex justify-center border">
      <section
        class="grid w-full max-w-5xl grid-cols-[70px_1fr] grid-rows-[1fr] border bg-white"
      >
        <nav class="grid grid-rows-[1fr] border bg-[#90ee90]">
          <ul class="flex flex-col items-center justify-start p-2.5">
            <li class="p-1 text-center leading-none">
              <a href="#chat" onclick="displayPage('chat')">
                <img src="images/chat.png" alt="chat page"
              /></a>
            </li>
          </ul>
        </nav>
        <div class="relative h-full w-full border" id="board">
          <div
            class="relative flex h-full w-full items-center justify-center"
            id="welcomePage"
          >
            Welcome page
          </div>
          <div
            class="hidden relative h-full w-full grid-cols-[300px_1fr] bg-[#ffb6c1]"
            id="chatPage"
          >
            <div class="flex flex-col border">
              <div class="flex overflow-hidden border bg-[#f1f1f1]">
                <button
                  class="flex-1 cursor-pointer border bg-inherit px-4 py-3.5 transition duration-300 outline-none hover:bg-[#808080] active:bg-[#ccc]"
                  id="defaultOpen"
                  onclick="displayList(event, 'chat')"
                >
                  Chats
                </button>
                <button
                  class="flex-1 cursor-pointer border bg-inherit px-4 py-3.5 transition duration-300 outline-none hover:bg-[#808080] active:bg-[#ccc]"
                  onclick="displayList(event, 'users')"
                >
                  Users
                </button>
              </div>
              <div class="flex grow flex-col">
                <div
                  class="relative flex h-[60px] grow flex-col gap-2.5 overflow-auto"
                  id="list-dms"
                ></div>
                <!-- no need to do list-users since it will be created by js -->
                <div
                  class="relative flex h-[60px] grow flex-col gap-2.5 overflow-auto"
                  id="list-users"
                  style="display: none"
                >
                  <div
                    class="chat-left__list-dms-item border"
                    style="display: flex; align-items: center; gap: 10px"
                    onclick="displayProf()"
                  >
                    <div class="border">
                      <img
                        src="images/profile/blue.png"
                        width="30"
                        height="30"
                      />
                    </div>
                    <div>Eos</div>
                  </div>
                </div>
                <!-- no need to do list-users since it will be created by js -->
              </div>
            </div>
            <div class="flex flex-col">
              <div
                id="start-chat"
                class="flex h-full items-center justify-center bg-white"
              >
                Start a converstion
              </div>
              <div id="userProfile" class="h-full" style="display: none"></div>
              <div
                id="conversation"
                style="display: none"
                class="h-full flex-col border"
              >
                <div
                  class="flex h-[45px] w-full items-center justify-center gap-2.5 px-4 py-3.5"
                  id="chat-info"
                ></div>
                <div class="flex flex-1 grow flex-col gap-2.5 border p-[1em]">
                  <div
                    class="flex h-[60px] grow flex-col gap-2.5 border bg-white p-[1em]"
                  >
                    <!-- <div class="chat-right__stamp border">stamp</div> -->
                    <div
                      class="flex max-w-full grow flex-col gap-2.5 overflow-auto border bg-white p-[1em]"
                      id="bubble"
                    ></div>
                    <div class="flex h-auto gap-2.5 border p-[1em]">
                      <div
                        class="block grow content-center border bg-white p-[0.5em]"
                      >
                        <div class="w-full border" id="input">
                          <input
                            id="text-box"
                            type="text"
                            class="w-full border"
                            placeholder="Send message"
                          />
                        </div>
                      </div>
                      <div
                        class="ml-auto block content-center border bg-[#0fffff]"
                        onclick="captureInput()"
                      >
                        Send
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="relative h-full w-full items-center justify-center bg-white hidden"
            id="accountPage"
          >
            <div
              class="hidden flex-col bg-inherit"
              id="registerPage"
            >
              <form
                action="http://127.0.0.1:8080"
                method="post"
                enctype="multipart/form-data"
                id="register"
                class="table rounded-xl p-1 border bg-blue-300"
              >
                <p class="flex items-center justify-center">
                  <label class="table-cell text-xl" for="reg-avatar">
                    <img
                      src="images/profile/grey.png"
                      class="cursor-pointer"
                      width="50px"
                      height="50px"
                    />
                  </label>
                  <input
                    type="file"
                    id="reg-avatar"
                    name="reg-user_avatar"
                    class="hidden"
                  />
                </p>
                <p>
                  <label class="table-cell text-xl" for="reg-username">Username (login)</label>
                  <input
                    class="table-cell text-xl bg-white"
                    type="text"
                    id="reg-username"
                    name="reg-user_username"
                    required
                  />
                </p>
                <p>
                  <label class="table-cell text-xl" for="reg-displayName">Display Name (public)</label>
                  <input
                    class="table-cell text-xl bg-white"
                    type="text"
                    id="reg-displayName"
                    name="reg-user_displayName"
                    required
                  />
                </p>
                <p>
                  <label class="table-cell text-xl" for="reg-password">Password</label>
                  <input
                    class="table-cell text-xl bg-white"
                    type="password"
                    id="reg-password"
                    name="reg-user_password"
                    required
                  />
                </p>
                <span class="block h-[1em]"></span>
                <p class="flex justify-center">
                  <button
                    type="submit"
                    id="submitRegButton"
                    class="cursor-pointer border"
                  >
                    Register
                  </button>
                </p>
              </form>
              <div class="flex border" id="reg-errors">Error box</div>
            </div>
            <div
              class="hidden flex-col bg-inherit"
              id="loginPage"

            >
              <form
                action="http://127.0.0.1:8080"
                method="post"
                id="login"
                class="table rounded-xl p-1 border bg-purple-300"
              >
                <p>
                  <label class="table-cell text-xl" for="login-username">Username:</label>
                  <input
                    class="table-cell text-xl bg-white"
                    type="text"
                    id="login-username"
                    name="login-user_username"
                    required
                  />
                </p>
                <p>
                  <label class="table-cell text-xl" for="login-password">Password:</label>
                  <input
                   class="table-cell text-xl bg-white"
                    type="password"
                    id="login-password"
                    name="login-user_password"
                    required
                  />
                </p>
                 <span class="block h-[1em]"></span>
               <p class="flex justify-center">
                  <button
                    type="submit"
                    id="submitLogButton"
                    class="cursor-pointer border"
                  >
                    Login
                  </button>
                </p>
              </form>
              <div class="errors border" id="log-errors">Error box</div>
            </div>
            <div
              class="hidden h-full w-full grid-rows-[150px_30px_1fr] border bg-white"
              id="profilePage"
            >
              <div
                class="grid grid-cols-3 border bg-amber-500"
                id="acc-profile-header"
              >
                <div
                  class="flex items-center justify-center border"
                  id="acc-avatar"
                >
                  <img
                    src="images/profile/orange.png"
                    alt=""
                    id="acc-profile-avatar"
                    width="100px"
                    height="100px"
                  />
                </div>
                <div class="flex flex-col border" id="acc-info">
                  <div
                    class="flex flex-1 items-center border"
                    id="acc-username"
                  >
                    <p>Username: Pinco</p>
                  </div>
                  <div
                    class="flex flex-1 items-center border"
                    id="acc-displayName"
                  >
                    <p id="temp-displayname">Display Name: Pallo</p>
                  </div>
                </div>
                <div class="flex flex-col border" id="acc-options;">
                  <div class="mt-2.5 flex h-[50px] items-center gap-2.5">
                    <div
                      class="ml-[5px] h-[15px] w-[15px] rounded-full border-2 border-black bg-green-700"
                    ></div>
                    <div class="">ONLINE</div>
                  </div>
                  <div
                    class="mt-2.5 grid-cols-4 gap-[5px] text-xs hidden"
                    id="acc-actions"
                  >
                    <button
                      class="flex h-10 w-[120px] items-center justify-center rounded border-2 border-blue-950 bg-blue-500 font-bold text-white hover:bg-blue-700"
                      type="button"
                      id="add-remove-friend__header"
                    >
                      Remove
                    </button>
                    <button
                      class="flex h-10 w-[120px] items-center justify-center rounded border-2 border-blue-950 bg-blue-500 font-bold text-white hover:bg-blue-700"
                      type="button"
                      id="block-unblock-friend__header"
                    >
                      Block
                    </button>
                    <button
                      class="flex h-10 w-[120px] items-center justify-center rounded border-2 border-blue-950 bg-blue-500 font-bold text-white hover:bg-blue-700"
                      type="button"
                      id="send-message__header"
                    >
                      Send message
                    </button>
                    <button
                      class="flex h-10 w-[120px] items-center justify-center rounded border-2 border-blue-950 bg-blue-500 font-bold text-white hover:bg-blue-700"
                      type="button"
                      id="invite-friend__header"
                    >
                      Invite now
                    </button>
                  </div>
                </div>
              </div>
              <div
                class="grid cursor-pointer grid-cols-3 items-center justify-center border bg-amber-100 text-center"
                id="acc-profile-menu"
              >
                <div id="acc-settings">SETTINGS</div>
                <div id="acc-friends">FRIENDS</div>
                <div id="acc-matches">MATCHES</div>
              </div>
              <div id="acc-profile-page">
                <div
                  class="flex h-full w-full items-center justify-center border text-left text-sm"
                  id="update-settings"
                >
                  <div
                    class="flex h-full w-full flex-col items-center justify-center border"
                  >
                    <form class="table rounded-xl p-1 border bg-blue-300" role="updateSettings" id="settings">
                      <div class="flex items-center justify-center">
                        <label for="edit-avatar">
                          <img
                            src="images/profile/orange.png"
                            id="avatarImgEdit"
                            width="50px"
                            height="50px"
                            class="cursor-pointer"
                          />
                        </label>
                        <input
                          type="file"
                          id="edit-avatar"
                          name="edit-user_avatar"
                          class="hidden"
                        />
                      </div>
                      <div>
                        <label class="text-xl table-cell">Username:</label>
                        <div>
                          <input
                            type="text"
                            value="Pinco"
                            readonly
                            class="text-xl bg-white"
                          />
                        </div>
                      </div>
                      <div>
                        <p>
                          <label
                            for="edit-displayName"
                            class="table-cell text-xl"
                            >Display Name:</label
                          >
                        </p>
                        <div>
                          <input
                            id="edit-displayName"
                            name="edit-user_displayName"
                            type="text"
                            value="Pallo"
                            class="text-xl  bg-white"
                          />
                        </div>
                      </div>
                      <span class="block h-[1em]"></span>
                      <div class="flex items-center justify-center text-sm">
                        <button
                          type="submit"
                          id="editDisplayNameButton"
                          class="cursor-pointer border border-black rounded-full p-[5px]"
                        >
                          Change display name
                        </button>
                      </div>
                      <div>
                        <label class="table-cell text-xl" for="edit-oldPass"
                          >Old Password:</label
                        >
                        <div>
                          <input
                            class="text-xl  bg-white"
                            id="edit-oldPass"
                            name="edit-user_oldPass"
                            type="password"
                            value="aaaaaaaaa"
                          />
                        </div>
                      </div>
                      <div>
                        <label class="table-cell text-xl" for="edit-newPass"
                          >New Password:</label
                        >
                        <div>
                          <input
                            class="text-xl  bg-white"
                            id="edit-newPass"
                            name="edit-user_newPass"
                            type="password"
                            value="aaaaaaaaa"
                          />
                        </div>
                      </div>
                      <span class="block h-[1em]"></span>
                      <div
                        class="flex items-center justify-center text-sm">
                        <button
                          type="submit"
                          id="editPasswordButton"
                          class="cursor-pointer border border-black rounded-full p-[5px]"
                        >
                          Change password
                        </button>
                      </div>
                      <div>
                        <p class="flex items-center justify-center text-sm">
                          <input
                            type="submit"
                            name="delete_account"
                            class="cursor-pointer border border-black rounded-full p-[5px]"
                            style="margin: 10px 0"
                            value="Delete Account"
                          />
                        </p>
                      </div>
                    </form>
                  </div>
                </div>
                <div
                  class="flex-col p-2.5 gap-[15px] hidden"
                  id="friends"
                >
                  <div>
                    <button
                      class="flex h-10 w-40 items-center justify-center rounded border-2 border-blue-950 bg-blue-500 font-bold text-white hover:bg-blue-700"
                      type="button"
                      id="blockButton"
                      onclick="displayBlockedFriends()"
                    >
                      See blocked users
                    </button>
                  </div>
                  <div id="friendsList" class="flex; p-[5px]">
                    <div
                      class="friend flex items-center p-2.5 border"
                    >
                      <img
                        src="images/profile/purple.png"
                        alt=""
                        width="100px"
                        height="100px"
                      />
                      <div
                        class="flex flex-col ml-2.5"
                        id="friend-description"
                      >
                        <div
                          class="flex items-center gap-2"
                          id="friend-name"
                        >
                          <div>Mafalda</div>
                      </div>
                        <div
                          class="friend-action flex justify-start gap-1 "
                        >
                          <button
                            class="flex justify-center border rounded-sm w-[60px]"
                            type="button"
                            id="remove-friend__page"
                          >
                            remove
                          </button>
                          <button
                           class="flex justify-center border rounded-sm w-[60px]"
                            type="button"
                            id="block-friend__page"
                          >
                            block
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="blockedList" class="hidden p-[5px]">
                    <div
                      class="friend flex items-center p-2.5 border"
                    >
                      <img
                        src="images/profile/purple.png"
                        alt=""
                        width="100px"
                        height="100px"
                      />
                      <div
                        class="flex flex-col ml-2.5"
                      >
                        <div
                          class="flex items-center gap-2"
                        >
                          <div>Zorro</div>
                      </div>
                        <div
                          class="friend-action flex justify-start gap-1 "
                        >
                          <button
                            class="flex justify-center border rounded-sm w-[60px]"
                            type="button"
                          >
                            remove
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="flex-col gap-2.5 hidden"
                  id="matches"
                >
                  <div class="grid grid-rows-auto h-full items-center">
                    <div
                      class="flex justify-center w-full border"
                      id="acc-stats"
                    >
                      <strong>Quick Stats</strong>
                    </div>
                    <div
                      class="grid grid-cols-4 border"
                    >
                      <div class="text-center p-2.5 border">
                        3
                        <span class="block mt-[5px]">Current Ranking</span>
                      </div>
                      <div class="text-center p-2.5 border">
                        12-10
                        <span class="block mt-[5px]">W-L</span>
                      </div>
                      <div class="text-center p-2.5 border">
                        22
                        <span class="block mt-[5px]">Tot games</span>
                      </div>
                      <div class="text-center p-2.5 border">
                        54%
                        <span class="block mt-[5px]">Average wins</span>
                      </div>
                    </div>
                  </div>
                  <div
                    class="grid grid-rows[50px_1fr] border"
                    id="acc-stats-details"
                  >
                    <div
                      class="flex justify-center w-full border"
                    >
                      <strong>Matches</strong>
                    </div>
                    <div
                      class="w-full grid grid-cols-3 border"
                    >
                      <div
                        class="flex justify-center items-center border"
                      >
                        opponent
                      </div>
                      <div
                        class="flex justify-center items-center border"
                      >
                        date
                      </div>
                      <div
                       class="flex justify-center items-center border"
                      >
                        score
                      </div>
                    </div>
                    <div
                      class="w-full grid grid-cols-3 border"
                    >
                      <div
                        class="flex justify-center p-2.5 border"
                      >
                        opponent 1
                      </div>
                      <div
                        class="flex justify-center p-2.5 border"
                      >
                        5/10/25
                      </div>
                      <div
                        class="flex justify-center p-2.5 border"
                      >
                        3-2
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer class="flex justify-center border bg-[#90ee90]">
      <div
        class="grid w-full max-w-5xl grid-cols-[1fr_1fr] gap-[2em] border p-[1em]"
      >
        <div class="border text-center">We Are trAScendeLs</div>
        <div class="border text-center">üß© Alena üé® Sveva üîê Luis | 2025</div>
      </div>
    </footer>
    <!-- insert scripts  here like this -->
    <script src="dist/accountDisplay.js"></script>
    <script src="dist/contentManager.js"></script>
    <script src="dist/chatDisplay.js"></script>
    <script src="dist/api/user.js" type="module"></script>
    <script src="dist/api/chat.js" type="module"></script>
    <!-- <script src=""></script> -->
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" href="images/favicon.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pong</title>
  <link rel="stylesheet" href="styles/reset.css" />
  <link rel="stylesheet" href="styles/style.css" />
  <!-- <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> -->
   <style>
    .dropdown {
    position: relative;
}

.dropdown-menu {
    display: none;
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    position: absolute;
    z-index: 10;
    list-style: none;
    margin: 0;
    padding: 0;
}

.dropdown:hover .dropdown-menu {
    display: block;
}

.dropdown-menu li {
    padding: 10px;
}

.dropdown-menu li a {
    text-decoration: none;
    color: #333;
}

.dropdown-menu li a:hover {
    background-color: #f0f0f0;
}

.container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px;
        }
   </style>
</head>

<body>
  <header class="main-header max-width-container border">
    <div id="header-navbar" style="display: flex; flex-direction: row; flex: 1; justify-content: space-between; align-items: center;">
      <div id="header-navbar-logo" style="padding: 10px;">
        <a href="#" onclick="displayPage('welcome')">
          <img src="images/logo.png" alt="logo of the page" />
        </a>
      </div>
     <div id="header-navbar-user" style="display: flex; flex-direction: row; align-items: center; padding: 10px;">
      <span class="dropdown">
          <a href="#" style="display: flex; align-items: center; text-decoration: none;">
              <span id="logged-user" style="margin-right: 10px;">
                  Hello, you!
              </span>
              <div id="logged-user-avatar">
                  <img src="images/profile/orange.png" alt="User Avatar" width="50" height="50">
              </div>
          </a>
          <ul class="dropdown-menu" role="menu">
              <li>
                <a href="#" onclick="setAccountPage('register')" ><span class="iconf-user"></span>Register</a>
              </li>
              <li>
                <a href="#" onclick="setAccountPage('login')" ><span class="iconf-user"></span>Login</a>
              </li>
              <li>
                  <a href="#" onclick="setAccountPage('profile')"><span class="iconf-user"></span> View my profile</a>
              </li>
              <li>
                  <a rel="nofollow" href="#"><span class="iconf-power-off"></span> <b>Logout</b></a>
              </li>
          </ul>
      </span>
      </div>
    </div>
  </header>
  <main class="main max-width-container border">
    <section class="main-section max-width border">
      <nav class="nav border">
        <ul>
          <li>
            <a href="#chat" onclick="displayPage('chat')">
              <img src="images/chat.png" alt="chat page" width="50" height="50"/></a>
          </li>
          <li>
            <a href="#" onclick="displayPage('game')">
              <img src="images/play.png" alt="game page" width="50" height="50"></a>
          </li>
        </ul>
      </nav>
      <div class="board-container border" id="board" style="background-color: black;">
        <div class="welcome" id="welcomePage" style="display: none;">
          Welcome page
        </div>
        <div class="chat" id="chatPage">
          <div class="chat-left border">
            <div class="chat-tab">
              <button class="tablinks" id="defaultOpen" onclick="displayList(event, 'chat')">Chats</button>
              <button class="tablinks" onclick="displayList(event, 'users')">Users</button>
            </div>
            <div class="chat-left__list">
              <div class="chat-left__list-dms" id="list-dms"></div>
              <div class="chat-left__list-dms" id="list-users" style="display: none;">
               <div class="chat-left__list-dms-item border" style="display: flex; align-items: center; gap: 10px;" onclick="displayProf()">
                <div class="border">
                  <img src="images/profile/blue.png" width="30" height="30">
                </div>
                <div>Eos</div>
              </div>
            </div>
            </div>
          </div>
          <div class="chat-right">
            <div id="start-chat" style="display: flex; justify-content: center; align-items: center; height: 100%; background-color: white;">Start a converstion</div>
            <div id="userProfile" style="display: none; height: 100%;"></div>
            <div id="conversation" style="display: none; flex-direction: column; height: 100%;" class="border">
              <div class="chat-right__header" id="chat-info" style="display: flex;  align-items: center; justify-content: center; gap: 10px; padding: 14px 16px; height: 45px; width: 100%;">
              </div>
              <div class="chat-right__body border" style="flex: 1">
                <div class="chat-right__box border">
                  <!-- <div class="chat-right__stamp border">stamp</div> -->
                  <div class="chat-right__bubble border" id="bubble">
                  </div>
                  <div class="chat-right__textArea border">
                  <div class="chat-right__textArea-input border">
                    <div class="chat-right__textAreas-input-text border" id="input">
                      <input id="text-box" type="text" class="chat-right__textAreas-input-text border"
                        placeholder="Send message" />
                    </div>
                  </div>
                  <div class="chat-right__textArea-submitIcon border" onclick="captureInput()">
                    Send
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div>
        <div class="account" id="accountPage" style="display: none;">
          <div class="account-login-reg-choice" id="pageChoice" style="display: flex;">
            <button type="button" id="registerButton">
              <a href="#" onclick="setAccountPage('register')"> Register</a>
            </button>
            <button type="button" id="loginButton">
              <a href="#" onclick="setAccountPage('login')"> Login</a>
            </button>
            <!-- <button type="button" id="profile">
              <a href="#" onclick="setAccountPage('profile')"> Profile</a>
            </button> -->
          </div>
          <div class="account-register" id="registerPage" style="flex-direction: column;">
            <form action="http://127.0.0.1:8080" method="post" enctype="multipart/form-data" id="register">
              <p class="profile-picture">
                <label for="reg-avatar">
                  <img src="images/profile/grey.png" style="cursor: pointer" width="50px" height="50px" />
                </label>
                <input type="file" id="reg-avatar" name="reg-user_avatar" style="display: none" />
              </p>
              <p class="reg-form-field">
                <label for="reg-username">Username (login)</label>
                <input type="text" id="reg-username" name="reg-user_username" required />
              </p>
              <p class="reg-form-field">
                <label for="reg-displayName">Display Name (public)</label>
                <input type="text" id="reg-displayName" name="reg-user_displayName" required />
              </p>
              <p class="reg-form-field">
                <label for="reg-password">Password</label>
                <input type="password" id="reg-password" name="reg-user_password" required />
              </p>
              <p class="submitButton">
                <span style="display: block; height: 1em;"></span>
                <button type="submit" id="submitRegButton" style="cursor: pointer">
                  Register
                </button>
              </p>
            </form>
             <div class="errors border" id="reg-errors">Error box</div>
          </div>
          <div class="account-login" id="loginPage" style="background-color: white; display: none; flex-direction: column;">
            <form action="http://127.0.0.1:8080" method="post" id="login">
              <p>
                <label for="login-username">Username:</label>
                <input type="text" id="login-username" name="login-user_username" required />
              </p>
              <p>
                <label for="login-password">Password:</label>
                <input type="password" id="login-password" name="login-user_password" required />
              </p>
              <p class="submitButton">
                <button type="submit" id="submitLogButton" style="cursor: pointer">
                  Login
                </button>
              </p>
            </form>
            <div class="errors border" id="log-errors">Error box</div>
          </div>
          <div class="account-profile border" id="profilePage" style="background-color: beige; display: none;">
            <div class="account-profile__header border" id="acc-profile-header" style="background-color: aliceblue;">
              <div class="account-profile_header-avatar border" id="acc-avatar">
                <img src="images/profile/orange.png" alt="" id="acc-profile-avatar" width="100px" height="100px">
              </div>
              <div class="account-profile_header-info border" id="acc-info">
                <div class="account-profile_header-info-username border" id="acc-username">
                  <p>
                    Username: Pinco
                  </p>
                </div>
                <div class="account-profile_header-info-displayName border" id="acc-displayName">
                  <p id="temp-displayname">
                    Display Name: Pallo
                  </p>
                </div>
              </div>
              <div class="account-profile_header-options border" id="acc-options;"
                style="display: flex; flex-direction: column;">
                <div class="status" style="display: flex; height: 50px; gap: 10px; margin-top: 10px;">
                  <div class="status-circle-on"></div>
                  <div class="status-word">ONLINE</div>
                </div>
                <div class="actions" id="acc-actions"
                  style="display: none; grid-template-columns: repeat(4, 1fr); margin-top: 10px;">
                  <button class="add-friend" type="button" id="add-remove-friend__header" style="display: flex; justify-content: center;">Remove friend</button>
                  <button class="block-friend" type="button" id="block-unblock-friend__header" style="display: flex; justify-content: center;">Block</button>
                  <button class="invite-friend" type="button" id="send-message__header" style="display: flex; justify-content: center;">Send message</button>
                  <button class="invite-friend" type="button" id="invite-friend__header" style="display: flex; justify-content: center;">Invite to game</button>
                </div>
              </div>
            </div>
            <div class="account-profile__menu border" id="acc-profile-menu"
              style="background-color: burlywood; cursor: pointer;">
              <div class="account-profile__menu-settings border" id="acc-settings">SETTINGS</div>
              <div class="account-profile__menu-friends border" id="acc-friends">FRIENDS</div>
              <div class="account-profile__menu-matches border" id="acc-matches">MATCHES</div>
            </div>
            <div class="account-profile__page border" id="acc-profile-page" style="background-color: antiquewhite;">
              <div class="account-profile__page-settings border" id="update-settings">
                <div class="account-profile__page-settings-pi border">
                  <h3>Edit information</h3>
                  <form class="update-settings-form" role="updateSettings" id="settings">
                    <p class="profile-picture">
                      <label for="edit-avatar">
                        <img src="images/profile/orange.png" id="avatarImgEdit" style="cursor: pointer" width="50px"
                          height="50px" />
                      </label>
                      <input type="file" id="edit-avatar" name="edit-user_avatar" style="display: none"/>
                    </p>
                    <p class="form-group">
                      <label class="col-md-3 control-label">Username:</label>
                    <div class="col-md-8">
                      <input class="form-control" type="text" value="Pinco" readonly>
                    </div>
                    </p>
                    <p class="form-group">
                      <p class="form-group">
                      <label class="col-lg-3 control-label" for="edit-displayName">Display Name:</label>
                      </p>
                    <div class="col-lg-8">
                      <input class="form-control" id="edit-displayName" name="edit-user_displayName" type="text" value="Pallo">
                    </div>
                    </p>
                    <p class="form-group" style="display: flex; justify-content: center; align-items: center;">
                    <button type="submit" id="editDisplayNameButton" style="cursor: pointer">Change display name</button>
                    </p>
                      <p class="form-group">
                        <label class="col-md-3 control-label" for="edit-oldPass">Old Password:</label>
                      <div class="col-md-8">
                        <input class="form-control" id="edit-oldPass" name="edit-user_oldPass" type="password" value="aaaaaaaaa">
                      </div>
                      </p>
                      <p class="form-group">
                        <label class="col-md-3 control-label" for="edit-newPass">New Password:</label>
                      <div class="col-md-8">
                        <input class="form-control" id="edit-newPass" name="edit-user_newPass" type="password" value="aaaaaaaaa">
                      </div>
                      </p>
                       <p class="form-group" style="display: flex; justify-content: center; align-items: center;">
                       <button type="submit" id="editPasswordButton" style="cursor: pointer">Change password</button>
                       </p>
                    <p class="form-group">
                      <!-- <label class="col-md-3 control-label"><span style="display: block; height: 20px;"></span></label>
                    <p class="col-md-8" style="display: flex; justify-content: center; align-items: center;">
                      <input type="submit" name="save_changes" class="btn btn-primary" value="Save Changes" style="margin-right: 10px;">
                      <input type="submit" name="cancel_changes" class="btn btn-default" value="Cancel">
                    </p> -->
                    <p class="col-md-8" style="display: flex; justify-content: center; align-items: center;">
                      <input type="submit" name="delete_account" class="btn btn-primary" style="margin: 10px 0;" value="Delete Account">
                    </p>
                    </p>
                </form>
                </div>
              </div>
              <div class="account-profile__page-friends border" id="friends" style="display: none; flex-direction: column;">
                <div>
                  <button type="button" id="blockButton" onclick="displayBlockedFriends()">See blocked users</button>
                </div>
                <div id="friendsList" style="display: flex; padding: 5px;">
                  <div class="friend" style="display: flex; align-items: center; padding: 10px;">
                    <img src="images/profile/purple.png" alt="" width="100px" height="100px">
                    <div class="friend-info" style="display: flex; flex-direction: column; margin-left: 10px;">
                      <div class="friend-name" style="display: flex; align-items: center;">Mafalda
                        <div class="status-circle-off"></div>
                        Offline
                      </div>
                      <div class="friend-action"
                        style="display: flex; justify-content: flex-start; margin-top: 10px;">
                        <button class="remove-friend" type="button" id="remove-friend__page">remove friend</button>
                        <button class="block-friend" type="button" id="block-friend__page">block</button>
                      </div>
                    </div>
                  </div>
                  <div class="friend" style="display: flex; align-items: center; padding: 10px;">
                    <img src="images/profile/green.png" alt="" width="100px" height="100px">
                    <div class="friend-info" style="display: flex; flex-direction: column; margin-left: 10px;">
                      <div class="friend-name" style="display: flex; align-items: center;">Kevin
                        <div class="status-circle-on"></div>
                        Online
                      </div>
                      <div class="friend-action"
                        style="display: flex; justify-content: flex-start; margin-top: 10px;">
                        <button class="remove-friend" type="button">remove friend</button>
                        <button class="block-friend" type="button">block</button>
                      </div>
                    </div>
                </div>
                </div>
                <div id="blockedList" style="display: none; padding: 5px;">
                  <div class="friend" style="display: flex; align-items: center; padding: 10px;">
                    <img src="images/profile/blue.png" alt="" width="100px" height="100px">
                    <div class="friend-info" style="display: flex; flex-direction: column; margin-left: 10px;">
                      <div class="friend-name" style="display: flex; align-items: center;">Zorro
                      </div>
                      <div class="friend-action"
                        style="display: flex; justify-content: flex-start; margin-top: 10px;">
                        <button class="block-friend" type="button">unblock</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
             <div class="account-profile__page-matches border" id="matches" style="display: none;">
                <div class="account-profile__page-matches-stats">
                  <div class="account-profile__page-matches-summary border" id="acc-stats" width="100%"
                    style="display: flex; justify-content: center;"><strong>Quick Stats</strong></div>
                  <div class="statsList border" style="display: grid; grid-template-columns: repeat(4, 1fr);">
                    <div class="stat border">
                      3
                      <span class="stat_name">Current Ranking</span>
                    </div>
                    <div class="stat border">
                      12-10
                      <span class="stat_name">W-L</span>
                    </div>
                    <div class="stat border">
                      22
                      <span class="stat_name">Tot games</span>
                    </div>
                    <div class="stat border">
                      54%
                      <span class="stat_name">Average wins</span>
                    </div>
                  </div>
                </div>
                <div class="acc-matches border" id="acc-stats-details" style="display: grid; grid-template-rows: 50px 1fr;">
                  <div class="acc-matches__header border"
                    style="width: 100%; display: grid; grid-template-columns: repeat(3, 1fr);">
                    <div class="opponent border" style="display: flex; justify-content: center; align-items: center;">
                      opponent</div>
                    <div class="date border" style="display: flex; justify-content: center; align-items: center;">date
                    </div>
                    <div class="score border" style="display: flex; justify-content: center; align-items: center;">score
                    </div>
                  </div>
                  <div class="acc-matches__content border"
                    style="width: 100%; display: grid; grid-template-columns: repeat(3, 1fr);">
                    <div class="border" style="display: flex; align-items: center; padding: 10px">opponent 1</div>
                    <div class="border" style="display: flex; justify-content: center; align-items: center;">5/10/25
                    </div>
                    <div class="border" style="display: flex; justify-content: center; align-items: center;">3-2</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="gamePage" class="container" style="display: flex; justify-content: center; align-items: center;">
          <div id="setupGame" style="display: block; position: relative; width: 640px; height: 480px; border: 1px solid blue; background-color: paleturquoise;">
            <div id="setupNumberPlayers" style="display: flex; flex-direction: row; width: 100%; height: 100%; gap: 10px; justify-content: center; align-items: center;">
              <button type="button" name="setOnePlayerButton" onclick="setOnePlayer(true)">
                  One Player
              </button>
              <button type="button" name="setTwoPlayerButton" onclick="setOnePlayer(false)">
                  Two Players
              </button>
            </div>
            <div id="setUpPlayers" style="display: none; flex-direction: column; height: 100%; justify-content: center; align-items: center; gap: 10px">
              <div id="setupDisplayName" style="display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 10px">
                <div id="displayNamePlayerOne">
                  <label for="namePlayerOne" style="color: white;">Player one</label>
                  <div style="display: flex; flex-direction: row;">
                    <input id="namePlayerOne" type="text" name="game-player-name-1" placeholder="Enter your display name" style="flex-grow:2;" />
                    <button type="button" onclick="saveDisplayName(1)">OK</button>
                  </div>
                </div>
                <div id="displayyNamePlayerTwo">
                  <label for="namePlayerTwo" style="color: white; display: block;">Player two</label>
                  <div style="display: flex; flex-direction: row;">
                    <input class="input-d" id="namePlayerTwo" type="text" name="game-player-name-2" placeholder="Enter your display name" />
                    <button type="button" onclick="saveDisplayName(2)">OK</button>
                  </div>
                </div>
              </div>
              <div id="Setinstructions" style="display: none;">
                  PLAYER 1 - W and S <br />
                  PLAYER 2 - ARROW KEYS <br />
                  P - PAUSE <br />
                  ESC - QUIT <br />
              </div>
              <div id="startButton">
                <button id="runButton" style="display: none;">Start game</button>
              </div>
            </div>
          </div>
          <div id="gameScreen" style="display: flex; justify-content: center; align-items: center; width: 640px; height: 480px;">
            <canvas id="myCanvas" style="display: none; background-color: black;border: 1px solid blue" width="640" height="480"></canvas>
          </div>
        </div>
      </div>
    </section>
  </main>
  <footer class="main-footer max-width-container border">
    <div class="main-footer__grid max-width border">
      <p class="main-footer__copyright border">TRANSCENDENCE</p>
      <ul class="main-footer__links border">
        Made by Alena, Luis, Sveva 2025
      </ul>
    </div>
  </footer>
  <!-- insert scripts  here like this -->
  <script src="dist/accountDisplay.js"></script>
  <script src="dist/contentManager.js"></script>
  <script src="dist/chatDisplay.js"></script>
  <script src="dist/gameLogic.js"></script>
  <script src="dist/user.js" type="module"></script>
  <script src="dist/chat.js" type="module"></script>
  <!-- <script src=""></script> -->
</body>

</html>
<!doctype html>
<html lang="en" class="box-border">
  <head>
    <link rel="icon" href="images/favicon.png" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pong</title>
    <link rel="stylesheet" href="styles/style.css" />
    <link href="dist/output.css" rel="stylesheet" />

    <style>
    </style>
  </head>

  <body
    class="m-0 box-border grid min-h-screen grid-rows-[auto_1fr_auto] bg-[#90ee90]"
  >
    <header class="flex justify-center bg-[#90ee90]">
      <div class="w-full max-w-5xl border">
        <div
          id="header-navbar"
          class="flex flex-row flex-1 justify-between items-center"
        >
          <div id="header-navbar-logo" class="p-2.5">
            <a href="#" onclick="displayPage('welcome')">
              <img src="images/logo.png" alt="logo of the page" />
            </a>
          </div>
          <div
            id="header-navbar-user"
            class="flex flex-row items-center p-2.5"
          >
          <!--to change all this span after also taking care of js
          to change in class="hidden bg-[#fff] border-[#ccc] rounded-sm absolute z-10 list-none m-0 p-0" -->
            <span class="dropdown">
              <a
                href="#"
                class="flex items-center no-underline"
              >
                <span id="logged-user" class="mr-2.5">
                  Hello, you!
                </span>
                <div id="logged-user-avatar">
                  <img
                    src="images/profile/orange.png"
                    alt="User Avatar"
                    width="50"
                    height="50"
                  />
                </div>
              </a>
              <ul class="dropdown-menu" role="menu">
                <li>
                  <a href="#" onclick="setAccountPage('register')"
                    ><span></span>Register</a
                  >
                </li>
                <li>
                  <a href="#" onclick="setAccountPage('login')"
                    ><span></span>Login</a
                  >
                </li>
                <li>
                  <a href="#" onclick="setAccountPage('profile')"
                    ><span></span> View my profile</a
                  >
                </li>
                <li>
                  <a rel="nofollow" href="#"
                    ><span></span> <b>Logout</b></a
                  >
                </li>
              </ul>
            </span>
          </div>
        </div>
      </div>
    </header>
    <main class="flex justify-center border">
      <section class="grid grid-cols-[70px_1fr] grid-rows-[1fr] bg-white w-full max-w-5xl border">
        <nav class="grid grid-rows-[1fr] bg-[#90ee90] border">
          <ul class="flex flex-col justify-start p-2.5 items-center">
            <li class="text-center p-1 leading-none">
              <a href="#chat" onclick="displayPage('chat')">
                <img src="images/chat.png" alt="chat page"
              /></a>
            </li>
          </ul>
        </nav>
        <div class="w-full h-full relative border" id="board">
          <div class="relative w-full h-full flex justify-center items-center" id="welcomePage">Welcome page</div>
          <div class="chat relative w-full h-full grid grid-cols-[300px_1fr] bg-[#ffb6c1]" id="chatPage">
            <div class="flex flex-col border">
              <div class="chat-tab">
                <button
                  class="tablinks flex-1 bg-inherit float-left border outline-none cursor-pointer py-3.5 px-4 transition duration-300 hover:bg-[#808080] active:bg-[#ccc]"
                  id="defaultOpen"
                  onclick="displayList(event, 'chat')"
                >
                  Chats
                </button>
                <button  class="tablinks flex-1 bg-inherit float-left border outline-none cursor-pointer py-3.5 px-4 transition duration-300 hover:bg-[#808080] active:bg-[#ccc]" onclick="displayList(event, 'users')">
                  Users
                </button>
              </div>
              <div class="flex grow flex-col">
                <div class="flex relative flex-col h-[60px] overflow-auto grow gap-2.5" id="list-dms"></div>
                <!-- no need to do list-users since it will be created by js -->
                <div
                  class="flex relative flex-col h-[60px] overflow-auto grow gap-2.5"
                  id="list-users"
                  style="display: none"
                >
                  <div
                    class="chat-left__list-dms-item border"
                    style="display: flex; align-items: center; gap: 10px"
                    onclick="displayProf()"
                  >
                    <div class="border">
                      <img
                        src="images/profile/blue.png"
                        width="30"
                        height="30"
                      />
                    </div>
                    <div>Eos</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex flex-col">
              <div
                id="start-chat"
                class="flex justify-center items-center h-full bg-white"
              >
                Start a converstion
              </div>
              <div id="userProfile" class="h-full" style="display: none;"></div>
              <div
                id="conversation"
                style="display: none;"
                class="border flex-col h-full"
              >
                <div
                  class="flex items-center justify-center gap-2.5 py-3.5 px-4 h-[45px] w-full"
                  id="chat-info"
                ></div>
                <div class="flex grow flex-col p-[1em] gap-2.5 flex-1 border">
                  <div class="flex flex-col h-[60px] grow gap-2.5 p-[1em] bg-white border">
                    <!-- <div class="chat-right__stamp border">stamp</div> -->
                    <div class="flex flex-col grow overflow-auto p-[1em] gap-2.5 bg-white max-w-full border" id="bubble"></div>
                    <div class="flex h-auto gap-2.5 p-[1em] border">
                      <div class="block grow bg-white p-[0.5em] content-center border">
                        <div
                          class="w-full border"
                          id="input"
                        >
                          <input
                            id="text-box"
                            type="text"
                            class="w-full border"
                            placeholder="Send message"
                          />
                        </div>
                      </div>
                      <div
                        class="block ml-auto content-center bg-[#0fffff] border"
                        onclick="captureInput()"
                      >
                        Send
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="account" id="accountPage" style="display: none">
            <div
              class="account-login-reg-choice"
              id="pageChoice"
              style="display: flex"
            >
              <button type="button" id="registerButton">
                <a href="#" onclick="setAccountPage('register')"> Register</a>
              </button>
              <button type="button" id="loginButton">
                <a href="#" onclick="setAccountPage('login')"> Login</a>
              </button>
              <!-- <button type="button" id="profile">
              <a href="#" onclick="setAccountPage('profile')"> Profile</a>
            </button> -->
            </div>
            <div
              class="account-register"
              id="registerPage"
              style="flex-direction: column"
            >
              <form
                action="http://127.0.0.1:8080"
                method="post"
                enctype="multipart/form-data"
                id="register"
              >
                <p class="profile-picture">
                  <label for="reg-avatar">
                    <img
                      src="images/profile/grey.png"
                      style="cursor: pointer"
                      width="50px"
                      height="50px"
                    />
                  </label>
                  <input
                    type="file"
                    id="reg-avatar"
                    name="reg-user_avatar"
                    style="display: none"
                  />
                </p>
                <p class="reg-form-field">
                  <label for="reg-username">Username (login)</label>
                  <input
                    type="text"
                    id="reg-username"
                    name="reg-user_username"
                    required
                  />
                </p>
                <p class="reg-form-field">
                  <label for="reg-displayName">Display Name (public)</label>
                  <input
                    type="text"
                    id="reg-displayName"
                    name="reg-user_displayName"
                    required
                  />
                </p>
                <p class="reg-form-field">
                  <label for="reg-password">Password</label>
                  <input
                    type="password"
                    id="reg-password"
                    name="reg-user_password"
                    required
                  />
                </p>
                <p class="submitButton">
                  <span style="display: block; height: 1em"></span>
                  <button
                    type="submit"
                    id="submitRegButton"
                    style="cursor: pointer"
                  >
                    Register
                  </button>
                </p>
              </form>
              <div class="errors border" id="reg-errors">Error box</div>
            </div>
            <div
              class="account-login"
              id="loginPage"
              style="
                background-color: white;
                display: none;
                flex-direction: column;
              "
            >
              <form action="http://127.0.0.1:8080" method="post" id="login">
                <p>
                  <label for="login-username">Username:</label>
                  <input
                    type="text"
                    id="login-username"
                    name="login-user_username"
                    required
                  />
                </p>
                <p>
                  <label for="login-password">Password:</label>
                  <input
                    type="password"
                    id="login-password"
                    name="login-user_password"
                    required
                  />
                </p>
                <p class="submitButton">
                  <button
                    type="submit"
                    id="submitLogButton"
                    style="cursor: pointer"
                  >
                    Login
                  </button>
                </p>
              </form>
              <div class="errors border" id="log-errors">Error box</div>
            </div>
            <div
              class="account-profile border"
              id="profilePage"
              style="background-color: beige; display: none"
            >
              <div
                class="account-profile__header border"
                id="acc-profile-header"
                style="background-color: aliceblue"
              >
                <div
                  class="account-profile_header-avatar border"
                  id="acc-avatar"
                >
                  <img
                    src="images/profile/orange.png"
                    alt=""
                    id="acc-profile-avatar"
                    width="100px"
                    height="100px"
                  />
                </div>
                <div class="account-profile_header-info border" id="acc-info">
                  <div
                    class="account-profile_header-info-username border"
                    id="acc-username"
                  >
                    <p>Username: Pinco</p>
                  </div>
                  <div
                    class="account-profile_header-info-displayName border"
                    id="acc-displayName"
                  >
                    <p id="temp-displayname">Display Name: Pallo</p>
                  </div>
                </div>
                <div
                  class="account-profile_header-options border"
                  id="acc-options;"
                  style="display: flex; flex-direction: column"
                >
                  <div
                    class="status"
                    style="
                      display: flex;
                      height: 50px;
                      gap: 10px;
                      margin-top: 10px;
                    "
                  >
                    <div class="status-circle-on"></div>
                    <div class="status-word">ONLINE</div>
                  </div>
                  <div
                    class="actions"
                    id="acc-actions"
                    style="
                      display: none;
                      grid-template-columns: repeat(4, 1fr);
                      margin-top: 10px;
                    "
                  >
                    <button
                      class="add-friend"
                      type="button"
                      id="add-remove-friend__header"
                      style="display: flex; justify-content: center"
                    >
                      Remove friend
                    </button>
                    <button
                      class="block-friend"
                      type="button"
                      id="block-unblock-friend__header"
                      style="display: flex; justify-content: center"
                    >
                      Block
                    </button>
                    <button
                      class="invite-friend"
                      type="button"
                      id="send-message__header"
                      style="display: flex; justify-content: center"
                    >
                      Send message
                    </button>
                    <button
                      class="invite-friend"
                      type="button"
                      id="invite-friend__header"
                      style="display: flex; justify-content: center"
                    >
                      Invite to game
                    </button>
                  </div>
                </div>
              </div>
              <div
                class="account-profile__menu border"
                id="acc-profile-menu"
                style="background-color: burlywood; cursor: pointer"
              >
                <div
                  class="account-profile__menu-settings border"
                  id="acc-settings"
                >
                  SETTINGS
                </div>
                <div
                  class="account-profile__menu-friends border"
                  id="acc-friends"
                >
                  FRIENDS
                </div>
                <div
                  class="account-profile__menu-matches border"
                  id="acc-matches"
                >
                  MATCHES
                </div>
              </div>
              <div
                class="account-profile__page border"
                id="acc-profile-page"
                style="background-color: antiquewhite"
              >
                <div
                  class="account-profile__page-settings border"
                  id="update-settings"
                >
                  <div class="account-profile__page-settings-pi border">
                    <h3>Edit information</h3>
                    <form
                      class="update-settings-form"
                      role="updateSettings"
                      id="settings"
                    >
                      <div class="profile-picture">
                        <label for="edit-avatar">
                          <img
                            src="images/profile/orange.png"
                            id="avatarImgEdit"
                            style="cursor: pointer"
                            width="50px"
                            height="50px"
                          />
                        </label>
                        <input
                          type="file"
                          id="edit-avatar"
                          name="edit-user_avatar"
                          style="display: none"
                        />
                      </div>
                      <div class="form-group">
                        <label class="col-md-3 control-label">Username:</label>
                        <div class="col-md-8">
                          <input
                            class="form-control"
                            type="text"
                            value="Pinco"
                            readonly
                          />
                        </div>
                      </div>
                      <div class="form-group">
                        <p class="form-group">
                          <label
                            class="col-lg-3 control-label"
                            for="edit-displayName"
                            >Display Name:</label
                          >
                        </p>
                        <div class="col-lg-8">
                          <input
                            class="form-control"
                            id="edit-displayName"
                            name="edit-user_displayName"
                            type="text"
                            value="Pallo"
                          />
                        </div>
                      </div>
                      <div
                        class="form-group"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        <button
                          type="submit"
                          id="editDisplayNameButton"
                          style="cursor: pointer"
                        >
                          Change display name
                        </button>
                      </div>
                      <div class="form-group">
                        <label class="col-md-3 control-label" for="edit-oldPass"
                          >Old Password:</label
                        >
                        <div class="col-md-8">
                          <input
                            class="form-control"
                            id="edit-oldPass"
                            name="edit-user_oldPass"
                            type="password"
                            value="aaaaaaaaa"
                          />
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-3 control-label" for="edit-newPass"
                          >New Password:</label
                        >
                        <div class="col-md-8">
                          <input
                            class="form-control"
                            id="edit-newPass"
                            name="edit-user_newPass"
                            type="password"
                            value="aaaaaaaaa"
                          />
                        </div>
                      </div>
                      <div
                        class="form-group"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        <button
                          type="submit"
                          id="editPasswordButton"
                          style="cursor: pointer"
                        >
                          Change password
                        </button>
                      </div>
                      <div class="form-group">
                        <p
                          class="col-md-8"
                          style="
                            display: flex;
                            justify-content: center;
                            align-items: center;
                          "
                        >
                          <input
                            type="submit"
                            name="delete_account"
                            class="btn btn-primary"
                            style="margin: 10px 0"
                            value="Delete Account"
                          />
                        </p>
                      </div>
                    </form>
                  </div>
                </div>
                <div
                  class="account-profile__page-friends border"
                  id="friends"
                  style="display: none; flex-direction: column"
                >
                  <div>
                    <button
                      type="button"
                      id="blockButton"
                      onclick="displayBlockedFriends()"
                    >
                      See blocked users
                    </button>
                  </div>
                  <div id="friendsList" style="display: flex; padding: 5px">
                    <div
                      class="friend"
                      style="display: flex; align-items: center; padding: 10px"
                    >
                      <img
                        src="images/profile/purple.png"
                        alt=""
                        width="100px"
                        height="100px"
                      />
                      <div
                        class="friend-info"
                        style="
                          display: flex;
                          flex-direction: column;
                          margin-left: 10px;
                        "
                      >
                        <div
                          class="friend-name"
                          style="display: flex; align-items: center"
                        >
                          Mafalda
                          <div class="status-circle-off"></div>
                          Offline
                        </div>
                        <div
                          class="friend-action"
                          style="
                            display: flex;
                            justify-content: flex-start;
                            margin-top: 10px;
                          "
                        >
                          <button
                            class="remove-friend"
                            type="button"
                            id="remove-friend__page"
                          >
                            remove friend
                          </button>
                          <button
                            class="block-friend"
                            type="button"
                            id="block-friend__page"
                          >
                            block
                          </button>
                        </div>
                      </div>
                    </div>
                    <div
                      class="friend"
                      style="display: flex; align-items: center; padding: 10px"
                    >
                      <img
                        src="images/profile/green.png"
                        alt=""
                        width="100px"
                        height="100px"
                      />
                      <div
                        class="friend-info"
                        style="
                          display: flex;
                          flex-direction: column;
                          margin-left: 10px;
                        "
                      >
                        <div
                          class="friend-name"
                          style="display: flex; align-items: center"
                        >
                          Kevin
                          <div class="status-circle-on"></div>
                          Online
                        </div>
                        <div
                          class="friend-action"
                          style="
                            display: flex;
                            justify-content: flex-start;
                            margin-top: 10px;
                          "
                        >
                          <button class="remove-friend" type="button">
                            remove friend
                          </button>
                          <button class="block-friend" type="button">
                            block
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="blockedList" style="display: none; padding: 5px">
                    <div
                      class="friend"
                      style="display: flex; align-items: center; padding: 10px"
                    >
                      <img
                        src="images/profile/blue.png"
                        alt=""
                        width="100px"
                        height="100px"
                      />
                      <div
                        class="friend-info"
                        style="
                          display: flex;
                          flex-direction: column;
                          margin-left: 10px;
                        "
                      >
                        <div
                          class="friend-name"
                          style="display: flex; align-items: center"
                        >
                          Zorro
                        </div>
                        <div
                          class="friend-action"
                          style="
                            display: flex;
                            justify-content: flex-start;
                            margin-top: 10px;
                          "
                        >
                          <button class="block-friend" type="button">
                            unblock
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="account-profile__page-matches border"
                  id="matches"
                  style="display: none"
                >
                  <div class="account-profile__page-matches-stats">
                    <div
                      class="account-profile__page-matches-summary border"
                      id="acc-stats"
                      width="100%"
                      style="display: flex; justify-content: center"
                    >
                      <strong>Quick Stats</strong>
                    </div>
                    <div
                      class="statsList border"
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                      "
                    >
                      <div class="stat border">
                        3
                        <span class="stat_name">Current Ranking</span>
                      </div>
                      <div class="stat border">
                        12-10
                        <span class="stat_name">W-L</span>
                      </div>
                      <div class="stat border">
                        22
                        <span class="stat_name">Tot games</span>
                      </div>
                      <div class="stat border">
                        54%
                        <span class="stat_name">Average wins</span>
                      </div>
                    </div>
                  </div>
                  <div
                    class="acc-matches border"
                    id="acc-stats-details"
                    style="display: grid; grid-template-rows: 50px 1fr"
                  >
                    <div
                      class="acc-matches__header border"
                      style="
                        width: 100%;
                        display: grid;
                        grid-template-columns: repeat(3, 1fr);
                      "
                    >
                      <div
                        class="opponent border"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        opponent
                      </div>
                      <div
                        class="date border"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        date
                      </div>
                      <div
                        class="score border"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        score
                      </div>
                    </div>
                    <div
                      class="acc-matches__content border"
                      style="
                        width: 100%;
                        display: grid;
                        grid-template-columns: repeat(3, 1fr);
                      "
                    >
                      <div
                        class="border"
                        style="
                          display: flex;
                          align-items: center;
                          padding: 10px;
                        "
                      >
                        opponent 1
                      </div>
                      <div
                        class="border"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        5/10/25
                      </div>
                      <div
                        class="border"
                        style="
                          display: flex;
                          justify-content: center;
                          align-items: center;
                        "
                      >
                        3-2
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer class="bg-[#90ee90] flex justify-center border">
      <div class="grid grid-cols-[1fr_1fr] p-[1em] gap-[2em] w-full max-w-5xl border">
        <div class="text-center border">We Are trAScendeLs</div>
        <div class="text-center border">üß© Alena üé® Sveva üîê Luis | 2025</div>
      </div>
    </footer>
    <!-- insert scripts  here like this -->
    <script src="dist/accountDisplay.js"></script>
    <script src="dist/contentManager.js"></script>
    <script src="dist/chatDisplay.js"></script>
    <script src="dist/api/user.js" type="module"></script>
    <script src="dist/api/chat.js" type="module"></script>
    <!-- <script src=""></script> -->
  </body>
</html>
